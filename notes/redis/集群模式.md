# 集群模式

## 主从复制

+ slave连接master后，发送sync命令，master接收到sync命令之后，执行bgsave，将bgsave完成后生成的文件快照发送到从服务器，之后将缓存区的所有命令都发送给从服务器，实现数据的同步
+ 从服务器断开重连，2.8之后的版本会将断线期间的命令传给重数据库，增量复制。
+ 主从刚刚连接的时候，进行全量同步；全同步结束后，进行增量同步
+ 从服务器可以随时要求全量同步

缺点：

+ 主服务器宕机后，需要人工干预将一台从服务器设置为主服务器。



## 哨兵（Sentinel）模式

优点：

+ 主服务器宕机后， 哨兵自动选举从服务器作为主服务器



## cluster集群模式（Redis官方）

数据存储在不同的节点，每个节点都有相应的插槽和cluster，每个节点都相互连接

+ 节点失效是通过大于一半的节点检测到的



