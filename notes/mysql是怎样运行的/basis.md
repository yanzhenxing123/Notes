## 客户端和服务器的连接过程

+ TCP/IP
+ 命名管道和共享内存
+ UNIX域套接字（类UNIX操作系统）

### 服务器处理客户端请求

处理连接->查询缓存->语法解析->查询优化->(引擎<innodb,  myisam, memory...>) -> 文件系统

主要为3部分：

+ 连接管理
+ 解析与优化
  + 查询缓存
  + 语法解析
  + 查询优化
+ 存储引擎

#### 连接管理

每一个连接建立一个线程，断开连接后不会立即销毁线程，将线程放到线程池中。

可以通过TLS加密保证数据传输的安全性。

#### 解析与优化

##### 查询缓冲

mysql8.0中直接将查询缓冲删除

+ 注释、空格等等不一致不会命中。

+ 查询中包含某些系统函数、用户自定义的函数和变量、系统表不会命中
+ 表结构修改或者被删除时，查询缓冲将会被删除。

#### 存储引擎

+ 创建表时指定引擎

  ```sql
  create table `demo` (
  	`id` int(10),
    `name` varchar(255)
  ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
  ```

+ 查看表的创建语句

  ```sql
  show create table `demo` \G;
  ```



## 